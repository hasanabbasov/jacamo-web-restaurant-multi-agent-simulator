<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="http://moise.sourceforge.net/xml/os.xsl" type="text/xsl" ?>

<!--
    Restaurant Organization Schema
    
    ðŸ›ï¸ Moise Organization for Restaurant Multi-Agent System
    
    Roller:
    - rcustomer: MÃ¼ÅŸteri rolÃ¼ (sipariÅŸ verir, Ã¶deme yapar)
    - rwaiter: Garson rolÃ¼ (koordinatÃ¶r)
    - rcook: AÅŸÃ§Ä± rolÃ¼ (yemek hazÄ±rlar)
    - rcashier: Kasiyer rolÃ¼ (Ã¶deme alÄ±r)
    
    AkÄ±ÅŸ: seatCustomer â†’ takeOrder â†’ cookFood â†’ serveFood â†’ takePayment
-->

<organisational-specification id="restaurant"
    os-version="0.8" xmlns='http://moise.sourceforge.net/os'
    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
    xsi:schemaLocation='http://moise.sourceforge.net/os
                        http://moise.sourceforge.net/xml/os.xsd'>

    <!-- ========== STRUCTURAL SPECIFICATION ========== -->
    <structural-specification>

        <role-definitions>
            <role id="rcustomer" />
            <role id="rwaiter" />
            <role id="rcook" />
            <role id="rcashier" />
        </role-definitions>

        <!-- Restaurant Group - tÃ¼m personel ve mÃ¼ÅŸteriler -->
        <group-specification id="restaurantTeam">
            <roles>
                <role id="rcustomer" min="1" max="10"/>
                <role id="rwaiter" min="1" max="3"/>
                <role id="rcook" min="1" max="2"/>
                <role id="rcashier" min="1" max="1"/>
            </roles>
            
            <links>
                <!-- MÃ¼ÅŸteri â†” Garson iletiÅŸimi -->
                <link from="rcustomer" to="rwaiter" type="communication" 
                      scope="intra-group" bi-dir="true"/>
                <!-- Garson â†” AÅŸÃ§Ä± iletiÅŸimi -->
                <link from="rwaiter" to="rcook" type="communication" 
                      scope="intra-group" bi-dir="true"/>
                <!-- MÃ¼ÅŸteri â†” Kasiyer iletiÅŸimi -->
                <link from="rcustomer" to="rcashier" type="communication" 
                      scope="intra-group" bi-dir="true"/>
                <!-- Garson â†” Kasiyer iletiÅŸimi -->
                <link from="rwaiter" to="rcashier" type="communication" 
                      scope="intra-group" bi-dir="true"/>
            </links>
        </group-specification>

    </structural-specification>

    <!-- ========== FUNCTIONAL SPECIFICATION ========== -->
    <functional-specification>
    
        <scheme id="serviceFlow">
            <goal id="completeService">
                <plan operator="sequence">
                    <goal id="seatCustomer" 
                          ds="MÃ¼ÅŸteri masaya oturur"/>
                    <goal id="takeOrder" 
                          ds="Garson sipariÅŸi alÄ±r"/>
                    <goal id="cookFood" 
                          ds="AÅŸÃ§Ä± yemeÄŸi hazÄ±rlar"/>
                    <goal id="serveFood" 
                          ds="Garson yemeÄŸi servis eder"/>
                    <goal id="takePayment" 
                          ds="Kasiyer Ã¶demeyi alÄ±r"/>
                </plan>
            </goal>

            <!-- MISSIONS -->
            
            <!-- MÃ¼ÅŸteri gÃ¶revi: oturmak ve Ã¶demek -->
            <mission id="mCustomer" min="1" max="10">
                <goal id="seatCustomer"/>
                <goal id="takePayment"/>
            </mission>

            <!-- Garson gÃ¶revi: sipariÅŸ almak ve servis etmek -->
            <mission id="mWaiter" min="1" max="3">
                <goal id="takeOrder"/>
                <goal id="serveFood"/>
            </mission>

            <!-- AÅŸÃ§Ä± gÃ¶revi: yemek piÅŸirmek -->
            <mission id="mCook" min="1" max="2">
                <goal id="cookFood"/>
            </mission>

            <!-- Kasiyer gÃ¶revi: Ã¶deme almak -->
            <mission id="mCashier" min="1" max="1">
                <goal id="takePayment"/>
            </mission>

        </scheme>

    </functional-specification>

    <!-- ========== NORMATIVE SPECIFICATION ========== -->
    <normative-specification>
        <properties>
            <!-- fail: norm ihlali hata verir, ignore: sessizce devam eder -->
            <property id="default_management" value="ignore" />
        </properties>

        <!-- OBLIGATIONS: Roller ne yapmalÄ± -->
        
        <!-- Garson sipariÅŸi ALMALI -->
        <norm id="normWaiterOrder" type="obligation" 
              role="rwaiter" mission="mWaiter" />
        
        <!-- AÅŸÃ§Ä± yemeÄŸi HAZIRLAMALI -->
        <norm id="normCookFood" type="obligation" 
              role="rcook" mission="mCook" />
        
        <!-- Kasiyer Ã¶demeyi ALMALI -->
        <norm id="normCashierPayment" type="obligation" 
              role="rcashier" mission="mCashier" />
        
        <!-- MÃ¼ÅŸteri Ã–DEMELI -->
        <norm id="normCustomerPay" type="obligation" 
              role="rcustomer" mission="mCustomer" />

    </normative-specification>

</organisational-specification>
